ENABLE_TESTING()
SET( AVAILABLE_PROBLEMS Easy Toy One Two Three Four Five Six Seven Eight Nine Ten )
add_custom_target(all_tests)
FOREACH( problem ${AVAILABLE_PROBLEMS} )
    FOREACH( algo hmm msfem  )
        SET( targetName test_${algo}_${problem} )
        ADD_EXECUTABLE(${targetName} ${dune_multiscale_SOURCE_DIR}/src/elliptic_${algo}.cc ${COMMON_HEADER} )
        TARGET_LINK_LIBRARIES( ${targetName} ${COMMON_LIBS} )
        set_target_properties(${targetName} PROPERTIES COMPILE_FLAGS -DPROBLEM_NAME=${problem} )
        add_test( ${targetName} ${CMAKE_CURRENT_BINARY_DIR}/${targetName} )
        add_dependencies( all_tests ${targetName} )
    ENDFOREACH( algo )
ENDFOREACH( problem )